{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\USER\\\\3D Objects\\\\Frontend Source Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\USER\\\\3D Objects\\\\Frontend Source Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\USER\\\\3D Objects\\\\Frontend Source Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\USER\\\\3D Objects\\\\Frontend Source Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\USER\\\\3D Objects\\\\Frontend Source Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\USER\\\\3D Objects\\\\Frontend Source Code\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import Button from\"elements/Button\";import{InputNumber,InputDate}from\"elements/Form\";var BookingForm=/*#__PURE__*/function(_Component){_inherits(BookingForm,_Component);var _super=_createSuper(BookingForm);function BookingForm(props){var _this;_classCallCheck(this,BookingForm);_this=_super.call(this,props);_this.updateData=function(e){_this.setState(_objectSpread(_objectSpread({},_this.state),{},{data:_objectSpread(_objectSpread({},_this.state.data),{},_defineProperty({},e.target.name,e.target.value))}));};_this.startBooking=function(){var data=_this.state.data;_this.props.startBooking({_id:_this.props.itemDetails._id,duration:data.duration,date:{startDate:data.date.startDate,endDate:data.date.endDate}});_this.props.history.push(\"/checkout\");};_this.state={data:{duration:1,date:{startDate:new Date(),endDate:new Date(),key:\"selection\"}}};return _this;}_createClass(BookingForm,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var data=this.state.data;if(prevState.data.date!==data.date){var startDate=new Date(data.date.startDate);var endDate=new Date(data.date.endDate);var countDuration=new Date(endDate-startDate).getDate();this.setState({data:_objectSpread(_objectSpread({},this.state.data),{},{duration:countDuration})});}if(prevState.data.duration!==data.duration){var _startDate=new Date(data.date.startDate);var _endDate=new Date(_startDate.setDate(_startDate.getDate()+ +data.duration-1));this.setState(_objectSpread(_objectSpread({},this.state),{},{data:_objectSpread(_objectSpread({},this.state.data),{},{date:_objectSpread(_objectSpread({},this.state.data.date),{},{endDate:_endDate})})}));}}},{key:\"render\",value:function render(){var data=this.state.data;var itemDetails=this.props.itemDetails;return/*#__PURE__*/React.createElement(\"div\",{className:\"card bordered\",style:{padding:\"60px 80px\"}},/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-3\"},\"Start Booking\"),/*#__PURE__*/React.createElement(\"h5\",{className:\"h2 text-teal mb-4\"},\"$\",itemDetails.price,\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-gray-500 font-weight-light\"},\"per \",itemDetails.unit)),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"duration\"},\"How long you will stay?\"),/*#__PURE__*/React.createElement(InputNumber,{max:30,suffix:\" night\",isSuffixPlural:true,onChange:this.updateData,name:\"duration\",value:data.duration}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"date\"},\"Pick a date\"),/*#__PURE__*/React.createElement(InputDate,{onChange:this.updateData,name:\"date\",value:data.date}),/*#__PURE__*/React.createElement(\"h6\",{className:\"text-gray-500 font-weight-light\",style:{marginBottom:40}},\"You will pay\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-gray-900\"},\"$\",itemDetails.price*data.duration,\" USD\"),\" \",\"per\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-gray-900\"},data.duration,\" \",itemDetails.unit)),/*#__PURE__*/React.createElement(Button,{className:\"btn\",hasShadow:true,isPrimary:true,isBlock:true,onClick:this.startBooking},\"Continue to Book\"));}}]);return BookingForm;}(Component);export default withRouter(BookingForm);","map":{"version":3,"sources":["C:/Users/USER/3D Objects/Frontend Source Code/src/parts/BookingForm.js"],"names":["React","Component","withRouter","Button","InputNumber","InputDate","BookingForm","props","updateData","e","setState","state","data","target","name","value","startBooking","_id","itemDetails","duration","date","startDate","endDate","history","push","Date","key","prevProps","prevState","countDuration","getDate","setDate","padding","price","unit","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport propTypes from \"prop-types\";\n\nimport Button from \"elements/Button\";\nimport { InputNumber, InputDate } from \"elements/Form\";\n\nclass BookingForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        duration: 1,\n        date: {\n          startDate: new Date(),\n          endDate: new Date(),\n          key: \"selection\",\n        },\n      },\n    };\n  }\n\n  updateData = (e) => {\n    this.setState({\n      ...this.state,\n      data: {\n        ...this.state.data,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { data } = this.state;\n\n    if (prevState.data.date !== data.date) {\n      const startDate = new Date(data.date.startDate);\n      const endDate = new Date(data.date.endDate);\n      const countDuration = new Date(endDate - startDate).getDate();\n      this.setState({\n        data: {\n          ...this.state.data,\n          duration: countDuration,\n        },\n      });\n    }\n\n    if (prevState.data.duration !== data.duration) {\n      const startDate = new Date(data.date.startDate);\n      const endDate = new Date(\n        startDate.setDate(startDate.getDate() + +data.duration - 1)\n      );\n      this.setState({\n        ...this.state,\n        data: {\n          ...this.state.data,\n          date: {\n            ...this.state.data.date,\n            endDate: endDate,\n          },\n        },\n      });\n    }\n  }\n\n  startBooking = () => {\n    const { data } = this.state;\n    this.props.startBooking({\n      _id: this.props.itemDetails._id,\n      duration: data.duration,\n      date: {\n        startDate: data.date.startDate,\n        endDate: data.date.endDate,\n      },\n    });\n    this.props.history.push(\"/checkout\");\n  };\n\n  render() {\n    const { data } = this.state;\n    const { itemDetails } = this.props;\n\n    return (\n      <div className=\"card bordered\" style={{ padding: \"60px 80px\" }}>\n        <h4 className=\"mb-3\">Start Booking</h4>\n        <h5 className=\"h2 text-teal mb-4\">\n          ${itemDetails.price}{\" \"}\n          <span className=\"text-gray-500 font-weight-light\">\n            per {itemDetails.unit}\n          </span>\n        </h5>\n\n        <label htmlFor=\"duration\">How long you will stay?</label>\n        <InputNumber\n          max={30}\n          suffix={\" night\"}\n          isSuffixPlural\n          onChange={this.updateData}\n          name=\"duration\"\n          value={data.duration}\n        />\n\n        <label htmlFor=\"date\">Pick a date</label>\n        <InputDate onChange={this.updateData} name=\"date\" value={data.date} />\n\n        <h6\n          className=\"text-gray-500 font-weight-light\"\n          style={{ marginBottom: 40 }}\n        >\n          You will pay{\" \"}\n          <span className=\"text-gray-900\">\n            ${itemDetails.price * data.duration} USD\n          </span>{\" \"}\n          per{\" \"}\n          <span className=\"text-gray-900\">\n            {data.duration} {itemDetails.unit}\n          </span>\n        </h6>\n\n        <Button\n          className=\"btn\"\n          hasShadow\n          isPrimary\n          isBlock\n          onClick={this.startBooking}\n        >\n          Continue to Book\n        </Button>\n      </div>\n    );\n  }\n}\n\nBookingForm.propTypes = {\n  itemDetails: propTypes.object,\n  startBooking: propTypes.func,\n};\n\nexport default withRouter(BookingForm);\n"]},"metadata":{},"sourceType":"module"}