{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\3D Objects\\\\Frontend Source Code\\\\src\\\\parts\\\\BookingForm.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport propTypes from \"prop-types\";\nimport Button from \"elements/Button\";\nimport { InputNumber, InputDate } from \"elements/Form\";\n\nclass BookingForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateData = e => {\n      this.setState({ ...this.state,\n        data: { ...this.state.data,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n\n    this.startBooking = () => {\n      const {\n        data\n      } = this.state;\n      this.props.startBooking({\n        _id: this.props.itemDetails._id,\n        duration: data.duration,\n        date: {\n          startDate: data.date.startDate,\n          endDate: data.date.endDate\n        }\n      });\n      this.props.history.push(\"/checkout\");\n    };\n\n    this.state = {\n      data: {\n        duration: 1,\n        date: {\n          startDate: new Date(),\n          endDate: new Date(),\n          key: \"selection\"\n        }\n      }\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      data\n    } = this.state;\n\n    if (prevState.data.date !== data.date) {\n      const startDate = new Date(data.date.startDate);\n      const endDate = new Date(data.date.endDate);\n      const countDuration = new Date(endDate - startDate).getDate();\n      this.setState({\n        data: { ...this.state.data,\n          duration: countDuration\n        }\n      });\n    }\n\n    if (prevState.data.duration !== data.duration) {\n      const startDate = new Date(data.date.startDate);\n      const endDate = new Date(startDate.setDate(startDate.getDate() + +data.duration - 1));\n      this.setState({ ...this.state,\n        data: { ...this.state.data,\n          date: { ...this.state.data.date,\n            endDate: endDate\n          }\n        }\n      });\n    }\n  }\n\n  render() {\n    const {\n      data\n    } = this.state;\n    const {\n      itemDetails\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card bordered\",\n      style: {\n        padding: \"60px 80px\"\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"mb-3\"\n    }, \"Start Booking\"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"h2 text-teal mb-4\"\n    }, \"$\", itemDetails.price, \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-500 font-weight-light\"\n    }, \"per \", itemDetails.unit)), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"duration\"\n    }, \"How long you will stay?\"), /*#__PURE__*/React.createElement(InputNumber, {\n      max: 30,\n      suffix: \" night\",\n      isSuffixPlural: true,\n      onChange: this.updateData,\n      name: \"duration\",\n      value: data.duration\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"date\"\n    }, \"Pick a date\"), /*#__PURE__*/React.createElement(InputDate, {\n      onChange: this.updateData,\n      name: \"date\",\n      value: data.date\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"text-gray-500 font-weight-light\",\n      style: {\n        marginBottom: 40\n      }\n    }, \"You will pay\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-900\"\n    }, \"$\", itemDetails.price * data.duration, \" USD\"), \" \", \"per\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-gray-900\"\n    }, data.duration, \" \", itemDetails.unit)), /*#__PURE__*/React.createElement(Button, {\n      className: \"btn\",\n      hasShadow: true,\n      isPrimary: true,\n      isBlock: true,\n      onClick: this.startBooking\n    }, \"Continue to Book\"));\n  }\n\n}\n\nBookingForm.propTypes = {\n  itemDetails: propTypes.object,\n  startBooking: propTypes.func\n};\nexport default withRouter(BookingForm);","map":{"version":3,"sources":["C:/Users/USER/3D Objects/Frontend Source Code/src/parts/BookingForm.js"],"names":["React","Component","withRouter","propTypes","Button","InputNumber","InputDate","BookingForm","constructor","props","updateData","e","setState","state","data","target","name","value","startBooking","_id","itemDetails","duration","date","startDate","endDate","history","push","Date","key","componentDidUpdate","prevProps","prevState","countDuration","getDate","setDate","render","padding","price","unit","marginBottom","object","func"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nimport propTypes from \"prop-types\";\n\nimport Button from \"elements/Button\";\nimport { InputNumber, InputDate } from \"elements/Form\";\n\nclass BookingForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {\n        duration: 1,\n        date: {\n          startDate: new Date(),\n          endDate: new Date(),\n          key: \"selection\",\n        },\n      },\n    };\n  }\n\n  updateData = (e) => {\n    this.setState({\n      ...this.state,\n      data: {\n        ...this.state.data,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { data } = this.state;\n\n    if (prevState.data.date !== data.date) {\n      const startDate = new Date(data.date.startDate);\n      const endDate = new Date(data.date.endDate);\n      const countDuration = new Date(endDate - startDate).getDate();\n      this.setState({\n        data: {\n          ...this.state.data,\n          duration: countDuration,\n        },\n      });\n    }\n\n    if (prevState.data.duration !== data.duration) {\n      const startDate = new Date(data.date.startDate);\n      const endDate = new Date(\n        startDate.setDate(startDate.getDate() + +data.duration - 1)\n      );\n      this.setState({\n        ...this.state,\n        data: {\n          ...this.state.data,\n          date: {\n            ...this.state.data.date,\n            endDate: endDate,\n          },\n        },\n      });\n    }\n  }\n\n  startBooking = () => {\n    const { data } = this.state;\n    this.props.startBooking({\n      _id: this.props.itemDetails._id,\n      duration: data.duration,\n      date: {\n        startDate: data.date.startDate,\n        endDate: data.date.endDate,\n      },\n    });\n    this.props.history.push(\"/checkout\");\n  };\n\n  render() {\n    const { data } = this.state;\n    const { itemDetails } = this.props;\n\n    return (\n      <div className=\"card bordered\" style={{ padding: \"60px 80px\" }}>\n        <h4 className=\"mb-3\">Start Booking</h4>\n        <h5 className=\"h2 text-teal mb-4\">\n          ${itemDetails.price}{\" \"}\n          <span className=\"text-gray-500 font-weight-light\">\n            per {itemDetails.unit}\n          </span>\n        </h5>\n\n        <label htmlFor=\"duration\">How long you will stay?</label>\n        <InputNumber\n          max={30}\n          suffix={\" night\"}\n          isSuffixPlural\n          onChange={this.updateData}\n          name=\"duration\"\n          value={data.duration}\n        />\n\n        <label htmlFor=\"date\">Pick a date</label>\n        <InputDate onChange={this.updateData} name=\"date\" value={data.date} />\n\n        <h6\n          className=\"text-gray-500 font-weight-light\"\n          style={{ marginBottom: 40 }}\n        >\n          You will pay{\" \"}\n          <span className=\"text-gray-900\">\n            ${itemDetails.price * data.duration} USD\n          </span>{\" \"}\n          per{\" \"}\n          <span className=\"text-gray-900\">\n            {data.duration} {itemDetails.unit}\n          </span>\n        </h6>\n\n        <Button\n          className=\"btn\"\n          hasShadow\n          isPrimary\n          isBlock\n          onClick={this.startBooking}\n        >\n          Continue to Book\n        </Button>\n      </div>\n    );\n  }\n}\n\nBookingForm.propTypes = {\n  itemDetails: propTypes.object,\n  startBooking: propTypes.func,\n};\n\nexport default withRouter(BookingForm);\n"]},"metadata":{},"sourceType":"module"}